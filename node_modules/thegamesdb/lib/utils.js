'use strict';

var xml2js = require('xml2js');

module.exports = {
  parseXml: function parseXml(xml) {
    return new Promise(function (resolve, reject) {
      xml2js.parseString(xml, { trim: true }, function (err, result) {
        if (!err) {
          resolve(result);
        } else {
          reject(err);
        }
      });
    });
  },
  parseDate: function parseDate(dateString) {
    var d = dateString.split('/').map(function (n) {
      return parseInt(n);
    });
    return new Date(d[2], d[0], d[1]);
  },
  pprint: function pprint(data) {
    console.log(JSON.stringify(data, null, 2));
  }
};